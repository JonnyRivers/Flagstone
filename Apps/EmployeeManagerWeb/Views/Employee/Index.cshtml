@model IEnumerable<Flagstone.Data.Employees.Employee>

@{
    ViewBag.Title = "Employees";
}

<div class="panel panel-default">
  <div class="panel panel-heading">
    <h3>All Employees</h3>
  </div>
  <div class="panel-body">
    <table class="table table-striped table-condensed table-bordered">
      <thead thead-default>
        <tr class="row">
          <th class="col-md-5">
            Name
          </th>
          <th class="col-md-5">
            @Html.DisplayNameFor(model => model.Department)
          </th>
          <th class="col-md-2">
            Actions
          </th>
        </tr>
      </thead>
      @foreach (Flagstone.Data.Employees.Employee item in Model)
      {
          @Html.HiddenFor(model => item.EmployeeId)
          <tr class="row">
            <td class="col-md-5">
              @item.FirstName @item.LastName
            </td>
            <td class="col-md-5">
              @Html.DisplayFor(modelItem => item.Department.Name)
            </td>
            <td class="col-md-2">
              @Html.ActionLink("Edit", "Edit", new { employeeId = item.EmployeeId })
              @Html.ActionLink("Delete", "Delete", new { employeeId = item.EmployeeId }, new { onclick = "return confirm('Are you sure?');" })
            </td>
          </tr>
      }
      </table>
    <div class="panel-footer">
      @Html.ActionLink("Add new employee", "Create", null, new { @class = "btn btn-default" })
    </div>
  </div>
</div>